<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubbles Game</title>
    <link rel="stylesheet" href="css/style.css?v=41">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;800&family=Fredoka+One&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js" onload="console.log('TON Connect SDK loaded successfully')" onerror="console.error('Failed to load TON Connect SDK')"></script>
    
</head>
<body>
    <div class="background-bubbles"></div>
    <div class="container">
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="btn theme-toggle" title="Toggle dark/light mode">üåô</button>
        
        <!-- Intro Animation -->
        <div id="intro" class="page active">
            <div class="bubbles-container"></div>
        </div>

        <!-- Main Game Page -->
        <div id="main-game" class="page">
            <div class="page-header">
                <h2>üè† Home</h2>
            </div>
            <div class="wallet-info">
                <div class="wallet-header">
                    <div class="balance-section">
                        <div class="balance-icon">üí∞</div>
                        <div class="balance-content">
                            <div class="balance-amount">
                                <span id="bubblecoins">0</span>
                                <span class="currency-symbol">BC</span>
                            </div>
                            <div class="balance-label">BubbleCoins</div>
                        </div>
                    </div>
                    <div class="wallet-section">
                        <button id="open-wallet" class="wallet-btn">
                            <span class="wallet-icon">üîó</span>
                            <span class="wallet-text">Connected: artem</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="main-bubble-container">
                <div class="bubble-glow"></div>
                <div class="main-bubble">
                    <img src="img/bubble.png" alt="Main Bubble" id="main-bubble-img">
                    <div class="bubble-particles"></div>
                </div>
                <div class="timer-container">
                    <div class="timer-icon">‚è∞</div>
                    <div class="timer-content">
                        <div class="timer-label">Next pop in:</div>
                        <div class="timer-value" id="pop-timer">2:00:00</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Missions Page -->
        <div id="missions" class="page">
            <div class="page-header">
                <h2>üéØ Missions</h2>
                <div class="missions-info">
                    <p>Complete missions to earn extra BubbleCoins and unlock rewards!</p>
                </div>
            </div>
            <div class="missions-list">
                <div class="mission">
                    <div class="mission-header">
                        <div class="mission-icon">üì¢</div>
                        <div class="mission-content">
                            <h3>Subscribe to Channel</h3>
                            <p>Stay updated with the latest news and announcements</p>
                        </div>
                    </div>
                    <div class="mission-reward">
                        <span class="reward-icon">üí∞</span>
                        <span class="reward-text">+50 BC</span>
                    </div>
                    <button class="btn mission-btn" data-mission="subscribe">
                        <span class="btn-icon">üì¢</span>
                        <span>Subscribe</span>
                    </button>
                </div>
                <div class="mission">
                    <div class="mission-header">
                        <div class="mission-icon">üë•</div>
                        <div class="mission-content">
                            <h3>Refer Friends</h3>
                            <p>Invite 5 friends and get 100 BubbleCoins bonus</p>
                        </div>
                    </div>
                    <div class="mission-reward">
                        <span class="reward-icon">üí∞</span>
                        <span class="reward-text">+100 BC</span>
                    </div>
                    <button class="btn mission-btn" data-mission="refer">
                        <span class="btn-icon">üîó</span>
                        <span>Get Referral Link</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mini Game Page -->
        <div id="minigame" class="page">
            <div class="page-header">
                <h2>üéÆ Daily Mini Game</h2>
                <div class="game-info-card">
                    <div class="info-icon">üíé</div>
                    <div class="info-content">
                        <h3>Bubble Pop Challenge</h3>
                        <p>Test your skills and earn rewards!</p>
                    </div>
                </div>
            </div>
            <div class="minigame-container">
                <div class="game-rules">
                    <div class="rule-item">
                        <div class="rule-icon">üéØ</div>
                        <div class="rule-text">
                            <h4>Objective</h4>
                            <p>Pop exactly 5 bubbles to complete the challenge</p>
                        </div>
                    </div>
                    <div class="rule-item">
                        <div class="rule-icon">üí∞</div>
                        <div class="rule-text">
                            <h4>Rewards</h4>
                            <p>Earn 3-100 BubbleCoins per bubble popped</p>
                        </div>
                    </div>
                    <div class="rule-item">
                        <div class="rule-icon">‚è∞</div>
                        <div class="rule-text">
                            <h4>Frequency</h4>
                            <p>Play once every 24 hours for maximum rewards</p>
                        </div>
                    </div>
                </div>
                <div id="minigame-area">
                    <div class="minigame-description">
                        <div class="description-content">
                            <div class="description-icon">üöÄ</div>
                            <h3>Ready to Play?</h3>
                            <p>Pop up 5 bubbles with random quantity of BubbleCoins every day!</p>
                            <div class="reward-preview">
                                <span class="reward-text">Potential Rewards:</span>
                                <span class="reward-amount">15-500 BC</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reaction Test Page -->
        <div id="reaction" class="page">
            <div class="page-header">
                <h2>‚ö° Reaction Test</h2>
                <div class="reaction-info">
                    <p>Test your reflexes and reaction speed! Pop as many bubbles as you can in 60 seconds.</p>
                </div>
            </div>
            <div class="minigame-container">
                <div class="game-stats">
                    <div class="stat-item">
                        <div class="stat-icon">‚è∞</div>
                        <div class="stat-content">
                            <div class="stat-label">Time Left</div>
                            <div class="stat-value" id="reaction-time">01:00</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-content">
                            <div class="stat-label">Score</div>
                            <div class="stat-value" id="reaction-score-value">0</div>
                        </div>
                    </div>
                </div>
                
                <!-- Difficulty Progress Slider -->
                <div class="difficulty-slider-container">
                    <div class="slider-header">
                        <h4>Difficulty Progress</h4>
                        <p>Game gets harder as time progresses</p>
                    </div>
                    <div class="slider-labels">
                        <span class="slider-label">Easy (2s)</span>
                        <span class="slider-label">Hard (1s)</span>
                    </div>
                    <div class="difficulty-slider">
                        <div class="slider-track">
                            <div class="slider-fill" id="slider-fill"></div>
                            <div class="slider-divider"></div>
                        </div>
                    </div>
                </div>
                
                <div id="reaction-area"></div>
                <div class="game-controls">
                    <button class="btn" id="reaction-start">
                        <span class="btn-icon">üöÄ</span>
                        <span>Start Game</span>
                    </button>
                </div>
            </div>
        </div>


    </div>

    <!-- Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-page="main-game">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Home</span>
        </button>
        <button class="nav-btn" data-page="missions">
            <span class="nav-icon">üéØ</span>
            <span class="nav-label">Missions</span>
        </button>
        <button class="nav-btn" data-page="minigame">
            <span class="nav-icon">üéÆ</span>
            <span class="nav-label">Mini Game</span>
        </button>
        <button class="nav-btn" data-page="reaction">
            <span class="nav-icon">‚ö°</span>
            <span class="nav-label">Reaction</span>
        </button>
    </nav>

    <!-- Wallet Connection Modal -->
    <div id="wallet-modal" class="modal">
        <div class="modal-content">
            <h2>Connect Wallet</h2>
            <p>Connect your wallet to save progress and earn rewards</p>
            <button id="connect-wallet" class="btn">Connect Wallet</button>
        </div>
    </div>

    <script src="js/game.js"></script>
</body>

</html>
